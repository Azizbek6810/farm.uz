<app-header></app-header>
<!-- Main -->
<main>
  <!-- Hero section -->
  <section class="hero container position-relative">
    <div id="carousel-hero" class="carousel slide" data-bs-ride="false">
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#carousel-hero"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button type="button" data-bs-target="#carousel-hero" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carousel-hero" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="./assets/images/bg-banner.png" class="d-block w-100" alt="..." />
          <div class="carousel-caption">
            <h5>Uzfarm.xarid.uz</h5>
            <p>Davlat va biznesning samarali hamkorligi</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./assets/images/bg-banner.png" class="d-block w-100" alt="..." />
          <div class="carousel-caption">
            <h5>Uzfarm.xarid.uz</h5>
            <p>Davlat va biznesning samarali hamkorligi</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./assets/images/bg-banner.png" class="d-block w-100" alt="..." />
          <div class="carousel-caption">
            <h5>Uzfarm.xarid.uz</h5>
            <p>Davlat va biznesning samarali hamkorligi</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carousel-hero" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carousel-hero" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <!-- hero items -->
    <div class="hero_items_wrapper">
      <!-- item -->
      <div class="hero-item">
        <img src="./assets/images/e-shop.png" alt="e-shop" />
        <h6>Elektron do'kon</h6>
        <p>elektron do'kon ishtirokchilarning takliflaridan iborat</p>
      </div>
      <!-- item -->
      <!-- <div class="hero-item">
          <img src="./assets/images/auction.png" alt="auction" />
          <h6>Auksion</h6>
          <p>boshlang'ich narxni tushirishga qaratilgan auksion</p>
        </div> -->
      <!-- item -->
      <div class="hero-item">
        <img src="./assets/images/national-shop.png" alt="national-shop" />
        <h6>Milliy do'kon</h6>
        <p>elektron do'kon ishtirokchilarning takliflaridan iborat</p>
      </div>
      <!-- item -->
      <div class="hero-item">
        <img src="./assets/images/etender.png" alt="etender" />
        <h6>Elektron tender va tanlash</h6>
        <p>elektron shakldagi xarid jarayonini amalga oshirish turi</p>
      </div>
      <!-- item -->
      <div class="hero-item">
        <img src="./assets/images/e-contract.png" alt="e-contract" />
        <h6>Elektron to'g'ridan to'g'ri shartnomalar</h6>
        <p>to'g'ridan-to'g'ri shartnoma tuzishda amalga oshiriladigan xarid jarayonlari shakli</p>
      </div>
    </div>
  </section>

  <!-- Interactive Services section -->
  <section class="interactive_services custom_section container">
    <!-- Title -->
    <div class="title__wrapper">
      <div class="title_line"></div>
      <h2 class="title_text">Interaktiv xizmatlar</h2>
      <div class="title_line"></div>
    </div>
    <!-- items -->
    <div class="interactive_service__item--wrapper">
      <!-- item -->
      <div class="interactive_service__item">
        <img src="./assets/images/handbook.svg" alt="handbook" />
        <p>Foydalanuvchilar uchun yo'riqnoma</p>
      </div>
      <!-- item -->
      <div class="interactive_service__item">
        <img src="./assets/images/reference-price.svg" alt="reference-price" />
        <p>Referent narxlar</p>
      </div>
      <!-- item -->
      <div class="interactive_service__item">
        <img src="./assets/images/local-manufacturers.svg" alt="local-manufacturers" />
        <p>Mahalliy ishlab chiqaruvchilar</p>
      </div>
      <!-- item -->
      <div class="interactive_service__item">
        <img src="./assets/images/normative-documents.svg" alt="normative-documents" />
        <p>Normativ xujjatlar</p>
      </div>
      <!-- item -->
      <div class="interactive_service__item">
        <img src="./assets/images/question-answer.svg" alt="question-answer" />
        <p>Savol-Javoblar</p>
      </div>
    </div>
  </section>

  <!-- Categories section -->
  <section class="categories container">
    <div class="categories_wrapper">
      <ng-container *ngFor="let category of categoryList">
        <!-- category item 1 -->
        <div class="category_item">
          <div class="category_header">
            <p
              [title]="category.category_name.length > 60 ? category.category_name : null"
              (click)="redirectToProductList(category.category_id)"
            >
              {{
                category.category_name.length > 60
                  ? category.category_name.substring(0, 60) + '...'
                  : (category.category_name | translate)
              }}
            </p>
          </div>
          <div class="category_info">
            <div class="d-flex justify-content-between">
              <p>
                <i class="icon-piece"></i>
                <span>{{ 'Common.SalesShare' | translate }}</span>
              </p>
              <span class="percent">57%</span>
            </div>
            <div class="d-flex justify-content-between">
              <p>
                <i class="icon-invoice"></i>
                <span>{{ 'Common.VolumeShare' | translate }}</span>
              </p>
              <span class="trade_amount">5 000 000,00 so'm</span>
            </div>
          </div>
          <div class="category_images__wrapper">
            <ng-container *ngFor="let productItem of category.products">
              <!-- category image -->
              <div
                class="category_image"
                (click)="redirectToProductList(category.category_id, productItem.product_code)"
              >
                <img [src]="productItem.thumb_image || './assets/images/empty-img.png'" alt="pill" />
                <h5>{{ productItem.product_name }}</h5>
              </div>
            </ng-container>
          </div>
          <div class="category_footer">
            <a href="#">Batafsil ko'rish</a>
          </div>
        </div>
      </ng-container>
    </div>
  </section>

  <!-- Purchase monitoring section -->
  <section class="purchase_monitoring">
    <div class="container">
      <div class="purchase_monitoring__flex">
        <div class="purchase_monitoring__item bg-white">
          <h2 class="text-center mb-3">{{"Common.StatisticsRegion" | translate}}</h2>
          <!-- <div class="d-flex justify-content-center gap-2">
            <div class="dropdown custom-dropdown">
              <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                2025-yil
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">2025-yil</a></li>
                <li><a class="dropdown-item" href="#">2024-yil</a></li>
                <li><a class="dropdown-item" href="#">2023-yil</a></li>
                <li><a class="dropdown-item" href="#">2022-yil</a></li>
              </ul>
            </div>
            <div class="dropdown custom-dropdown">
              <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Yanvar
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Yanvar</a></li>
                <li><a class="dropdown-item" href="#">Fevral</a></li>
                <li><a class="dropdown-item" href="#">Mart</a></li>
                <li><a class="dropdown-item" href="#">Aprel</a></li>
                <li><a class="dropdown-item" href="#">May</a></li>
                <li><a class="dropdown-item" href="#">Iyun</a></li>
                <li><a class="dropdown-item" href="#">Iyul</a></li>
                <li><a class="dropdown-item" href="#">Avgust</a></li>
                <li><a class="dropdown-item" href="#">Sentabr</a></li>
                <li><a class="dropdown-item" href="#">Oktabr</a></li>
                <li><a class="dropdown-item" href="#">Noyabr</a></li>
                <li><a class="dropdown-item" href="#">Dekabr</a></li>
              </ul>
            </div>
          </div> -->
          <app-uzb-map [currentRegion]="currentRegion" (clickRegion)="singleRegion($event)"></app-uzb-map>
        </div>
        <div class="purchase_monitoring__item bg-bottom-header text-white">
          <h2 class="region_name__title" *ngIf="!isMapLoading">{{ selectedRegion.name | translate }}</h2>
          <h2 class="region_name__title" *ngIf="isMapLoading"> {{ 'Common.Loading' | translate }}
            <!-- <app-skeleton-loader [count]="1"
              [style]="{ width: '100%', height: '25px', 'border-radius': '10px', 'margin-left': '20px', 'margin-top': '20px' }">
            </app-skeleton-loader> -->
          </h2>
          <div class="monitoring_items__wrapper">
            <!-- monitoring item 1 -->
            <div class="monitoring-item">
              <img src="./assets/images/total-purchases.svg" alt="total-purchases" />
              <p>
                <span>Jami xaridlar</span>
                <b>8.5 mlrd. so'm</b>
              </p>
            </div>
            <!-- monitoring item 1 -->
            <div class="monitoring-item">
              <img src="./assets/images/saved-money.svg" alt="saved-money" />
              <p>
                <span>Iqtisod qilingan mablag‘</span>
                <b>6.5 mlrd. so'm</b>
              </p>
            </div>
            <!-- monitoring item 1 -->
            <div class="monitoring-item">
              <img src="./assets/images/customers-number.svg" alt="customers-number" />
              <p>
                <span>Buyurtmachilar soni</span>
                <b>425 ta</b>
              </p>
            </div>
            <!-- monitoring item 1 -->
            <div class="monitoring-item">
              <img src="./assets/images/entrepreneurs-number.svg" alt="entrepreneurs-number" />
              <p>
                <span>Tadbirkorlar soni</span>
                <b>8 ta</b>
              </p>
            </div>
            <!-- monitoring item 1 -->
            <div class="monitoring-item">
              <img src="./assets/images/purchases-number.svg" alt="purchases-number" />
              <p>
                <span>Xaridlar soni</span>
                <b>1200 ta</b>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="bg-section">
    <!-- Last products section -->
    <section class="last-products">
      <div class="py-5 container">
        <!-- Title -->
        <div class="title__wrapper">
          <div class="title_line"></div>
          <h2 class="title_text">So'ngi mahsulotlar</h2>
          <div class="title_line"></div>
        </div>
        <!-- Loading -->
        <div class="col-12 text-center" *ngIf="loading && !productNotFound">
          <div class="spinner-border text-primary" style="width: 2rem; height: 2rem" role="status">
            <span class="sr-only"></span>
          </div>
        </div>
        <!-- Product not found -->
        <div class="col-12 text-center" *ngIf="productNotFound">
          <h6>{{ 'Common.ProductNotFound' | translate }}</h6>
        </div>
        <!-- product items -->
        <div class="products_wrapper">
          <ng-container *ngFor="let productItem of productList">
            <!-- product item 1 -->
            <div class="product-item">
              <img
                [src]="productItem.thumb_image || './assets/images/empty-img.png'"
                (click)="onViewProductDetails(productItem.id)"
                alt="product"
              />
              <div class="product-item-body">
                <p class="product_number">№: {{ productItem.display_no }}</p>
                <h4>{{ productItem.product_name | slice2: 25 }}</h4>
                <div class="product-item-infos">
                  <div class="d-flex justify-content-between mb-2">
                    <p>
                      <i class="icon-quantity"></i>
                      <span> {{ 'Common.amount' | translate }}</span>
                    </p>
                    <span class="quantity_number">
                      {{ productItem.amount | numberFormat }} <small>{{ productItem.unit_name }}</small></span
                    >
                  </div>
                  <div class="d-flex justify-content-between">
                    <p>
                      <i class="icon-invoice"></i>
                      <span> {{ 'Common.price' | translate }}</span>
                    </p>
                    <span class="price_amount">
                      {{ productItem.price | numberFormat }}
                      {{ 'Cabinet.sum' | translate }}</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
        <div class="text-center mt-3">
          <a
            *ngIf="!productNotFound"
            (click)="redirectToProductList()"
            class="btn btn-primary load-btn border-primary-color"
            >{{ 'Common.allProducts' | translate }}</a
          >
        </div>
      </div>
    </section>

    <!-- News section -->
    <section class="news container pb-5" *ngIf="false">
      <!-- Title -->
      <div class="title__wrapper">
        <div class="title_line"></div>
        <h2 class="title_text">Yangiliklar</h2>
        <div class="title_line"></div>
      </div>
      <!-- Swiper -->
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <!-- news item 1 -->
            <div class="news-item">
              <img src="./assets/images/news-1.png" alt="news" />
              <div class="news-date">
                <i class="icon-calendar"></i>
                <span>21.02.2025</span>
              </div>
              <p>
                Farmatsevtika tarmog'ini rivojlantirish agentligi va qator kompaniyalar o'rtasida kelishuvga erishildi.
              </p>
              <a href="#">Batafsil ko'rish</a>
            </div>
          </div>
          <div class="swiper-slide">
            <!-- news item 2 -->
            <div class="news-item">
              <img src="./assets/images/news-2.png" alt="news" />
              <div class="news-date">
                <i class="icon-calendar"></i>
                <span>31.01.2025</span>
              </div>
              <p>Farma O'zbekiston: III xalqaro kongress davom etmoqda</p>
              <a href="#">Batafsil ko'rish</a>
            </div>
          </div>
          <div class="swiper-slide">
            <!-- news item 3 -->
            <div class="news-item">
              <img src="./assets/images/news-3.png" alt="news" />
              <div class="news-date">
                <i class="icon-calendar"></i>
                <span>10.02.2025</span>
              </div>
              <p>Shveysariyaning Jeneva shahrida Farmatsevtika tarmog‘ini rivojlantirish agentligi direktori ...</p>
              <a href="#">Batafsil ko'rish</a>
            </div>
          </div>
          <div class="swiper-slide">
            <!-- news item 4 -->
            <div class="news-item">
              <img src="./assets/images/news-4.jpg" alt="news" />
              <div class="news-date">
                <i class="icon-calendar"></i>
                <span>21.02.2025</span>
              </div>
              <p>
                Tadbir! Farmatsevtik ishlab chiqarishni tashkil qilish va sifat menejmenti” kafedrasida “Ikki buyuk
                mutafakkir A.Navoiy, Z.M.Bobur siymosi asarlari talabalar orasida” mavzusida o'tqazildi
              </p>
              <a href="#">Batafsil ko'rish</a>
            </div>
          </div>
        </div>
        <div class="swiper_buttons">
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>
  </div>
</main>
<app-footer></app-footer>
